<!-- components/wallpaper-preview/index.wxml -->
<!-- 壁纸预览模态框 -->
<view class="wallpaper-preview-modal" wx:if="{{showPreview}}" catchtouchmove="preventTouchMove">
  <!-- 半透明黑色遮罩层 -->
  <view class="preview-mask" catchtouchmove="preventTouchMove"></view>
  
  <!-- 预览内容区域 -->
  <view class="preview-content" catchtouchmove="preventTouchMove">

    <!-- 预览界面返回容器 -->
    <view class="preview-return-navbar" style="top: {{previewNavTop}}px;">
      <!-- 左边返回按钮 -->
      <view class="nav-button left-button" catchtap="onClosePreview">
        <text class="nav-icon">←</text>
      </view>
    </view>
    
    <!-- 时间和日期显示 -->
    <view class="preview-time-date" style="top: {{timeDateHeight}}px; height: {{timeDateHeight}}px;">
      <text class="preview-time">{{currentTime}}</text>
      <text class="preview-date">{{currentDate}}</text>
    </view>
    
    <!-- 壁纸展示区域 -->
    <view class="wallpaper-container">
      <view class="wallpaper-wrapper">
        <!-- 底部下载按钮 -->
        <view class="preview-footer">
          <button class="download-btn" bindtap="downloadWallpaper">
            <text class="download-icon">⬇️</text>
            <text class="download-text">立即下载</text>
          </button>
        </view>
        
        <image 
          class="wallpaper-image {{aspectRatio === '1:1' ? 'wallpaper-image-square' : ''}} {{aspectRatio === '16:9' ? 'wallpaper-image-wide' : ''}}" 
          src="{{currentPreviewWallpaper.image}}" 
          mode="{{aspectRatio === 'auto' ? 'aspectFill' : 'contain'}}"
        ></image>
      </view>
    </view>
  </view>
</view>